<LoginWindow>:
    name: "login"
    MDBoxLayout:
        orientation : "vertical"
        MDTopAppBar:
            title: "Application"
            pos_hint: {"center_y": 1}
        MDLabel:
    MDLabel:
        text: "Log in"
        halign: "center"
        pos_hint: {"center_y":.73}
        font_style: "Subtitle2"
    MDTextField:
        hint_text: "Username or Email"
        pos_hint: {"center_x": 0.5, "center_y": 0.65}
        size_hint: .75,0.085
        # mode: "rectangle"
    MDTextField:
        hint_text: "Password"
        pos_hint: {"center_x":0.5, "center_y":0.57}
        size_hint: .75,0.085
        password: True
        # mode: "rectangle"
    MDRaisedButton:
        text: "Login"
        pos_hint: {"center_x": 0.5, "center_y":0.48}
        size_hint: .7,0.05
        on_release:
            app.login()
            root.manager.transition.direction = "left"
    MDTextButton:
        text: "Forgot password?"
        pos_hint: {"center_x":0.5, "center_y":0.4}
        on_release: app.screen_manager.change_screen("forgot")
    MDTextButton:
        text: f"[color=#000000]Don't have an account?[/color] Sign up"
        markup: True
        pos_hint: {"center_x":0.5, "center_y":0.33}
        on_release: app.screen_manager.change_screen("signup")
    MDLabel:
        text: f"[font=Icons] {md_icons['copyright']}[/font][font=Roboto]{'Relay'} 2023[/font]"
        markup: True
        halign: "center"
        pos_hint: {"center_y":0.05}

<MainWindow>:
    name: "main"
    MDBoxLayout:
        orientation: "vertical"
        MDTopAppBar:
            title: "Application"
        MDBottomNavigation:
            MDBottomNavigationItem:
                name: 'screen_1'
                text: "Home"
                MDBoxLayout:
                    orientation: "vertical"
                    ScrollView:
                        do_scroll_y: True
                        effect_cls: 'ScrollEffect'
                        bar_width: 0
                        MDBoxLayout:
                            adaptive_height: True
                            orientation: 'vertical'
                            md_bg_color: app.theme_cls.primary_color
                            spacing: 20
                            MDBoxLayout:
                                height: 60
                                size_hint_y: None
                                ScrollView:
                                    do_scroll_x: True
                                    do_scroll_y: False
                                    bar_width: 0
                                    MDBoxLayout:
                                        id: story_layout
                                        orientation: 'horizontal'
                                        adaptive_width: True
                                        spacing: 10
                                        padding: [10, 0, 0, 0]
                            MDBoxLayout:
                                orientation: 'vertical'
                                md_bg_color: app.theme_cls.bg_normal
                                size_hint_y: None
                                adaptive_height: True
                                radius: [20, 20, 0, 0]
                                padding: [0, 0, 0, 40]
                                MDList:
                                    id: chatlist
                                    spacing: 10
            MDBottomNavigationItem:
                name: 'screen_2'
                text: "Dial"
                MDBoxLayout:
                    orientation: "vertical"
                    pos_hint: {"center_y": 0.55}
                    size_hint: 1, 0.75
                    MDLabel:
                        id:number
                        text: "Enter Number"
                        halign: "center"
                        size_hint: 1, 0.2
                    AnchorLayout:
                        MDGridLayout:
                            cols: 3
                            spacing: 50
                            size_hint: None, None
                            size: self.minimum_size
                            MDRoundFlatButton:
                                text: "1"
                                on_press:
                                    root.update_num_field(self)
                            MDRoundFlatButton:
                                text: "2"
                                on_press:
                                    root.update_num_field(self)
                            MDRoundFlatButton:
                                text: "3"
                                on_press:
                                    root.update_num_field(self)
                            MDRoundFlatButton:
                                text: "4"
                                on_press:
                                    root.update_num_field(self)
                            MDRoundFlatButton:
                                text: "5"
                                on_press:
                                    root.update_num_field(self)
                            MDRoundFlatButton:
                                text: "6"
                                on_press:
                                    root.update_num_field(self)
                            MDRoundFlatButton:
                                text: "7"
                                on_press:
                                    root.update_num_field(self)
                            MDRoundFlatButton:
                                text: "8"
                                on_press:
                                    root.update_num_field(self)
                            MDRoundFlatButton:
                                text: "9"
                                on_press:
                                    root.update_num_field(self)
                            MDRoundFlatButton:
                                text: "*"
                                on_press:
                                    root.update_num_field(self)
                            MDRoundFlatButton:
                                text: "0"
                                on_press:
                                    root.update_num_field(self)
                            MDRoundFlatButton:
                                text: "#"
                                on_press:
                                    root.update_num_field(self)
                    MDRoundFlatButton:
                        text: "  Call  "
                        pos_hint: {"center_x": .5}
                        on_press:
                            app.start_call()
                            root.manager.transition.direction = "up"
            MDBottomNavigationItem:
                name: 'screen_3'
                text: "Settings"
                MDRectangleFlatButton:
                    text: "Profile"
                    theme_text_color: "Custom"
                    text_color: "red"
                    line_color: "red"
                    pos_hint: {"center_x": .5, "center_y": .8}
                    size_hint: 0.15, 0.10
                MDRectangleFlatButton:
                    text: "Language"
                    theme_text_color: "Custom"
                    text_color: "red"
                    line_color: "red"
                    pos_hint: {"center_x": .5, "center_y": .5}
                    size_hint: 0.15, 0.10
                MDRectangleFlatButton:
                    text: "About"
                    theme_text_color: "Custom"
                    text_color: "red"
                    line_color: "red"
                    pos_hint: {"center_x": .5, "center_y": .2}
                    size_hint: 0.15, 0.10



<CallingWindow>:
    name: "call"
    MDBoxLayout:
        orientation: "vertical"
        MDLabel:
        MDRoundFlatButton:
            text: "End Call"
            pos_hint: {"center_x": .5, "center_y": 1}
            on_press:
                app.end_call()
                root.manager.transition.direction = "down"
        MDLabel: